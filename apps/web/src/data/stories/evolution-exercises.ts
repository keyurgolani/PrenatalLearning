/**
 * Evolution Story Exercises
 * 
 * Topic-specific exercises for "The Tree of Life: Evolution and Connection"
 * These exercises help mothers engage more deeply with the material before sharing it.
 * 
 * Requirements: 10.1, 10.2, 10.3, 10.4
 */

import type { Exercise } from './big-bang-exercises';

export const evolutionExercises: Exercise[] = [
  // Reflection on Connection to All Life (Requirement 10.1)
  {
    type: 'reflection',
    title: 'Your Place on the Tree of Life',
    description: 'Reflect on your connection to all living things through the great tree of life.',
    duration: 12,
    prompts: [
      'Think about the fact that you share ancestors with every living thing on Earth—from the birds outside your window to the trees in the park to the bacteria in your gut. How does this knowledge change how you see the world around you?',
      'Consider that you share 98% of your DNA with chimpanzees, 85% with mice, and 60% with bananas. What does this tell you about the unity of life? How does it feel to be so closely related to other creatures?',
      'Your baby is the latest chapter in a story that began nearly 4 billion years ago. Every one of their ancestors survived long enough to have children. What would you want to say to those countless ancestors who made your baby possible?',
      'Write a letter to your baby about their place on the tree of life. What does it mean to be connected to every living thing that has ever existed?',
      'How might understanding evolution change the way you treat other living things—animals, plants, even microorganisms?'
    ],
    guidance: 'Find a quiet space, perhaps near a window where you can see trees or animals. Let yourself feel the connection to the living world around you as you reflect.'
  },
  {
    type: 'reflection',
    title: 'The Survivors in Your Family',
    description: 'Contemplate the incredible chain of survival that led to you and your baby.',
    duration: 10,
    prompts: [
      'Every single one of your ancestors—going back billions of years—survived long enough to have offspring. Through ice ages, predators, diseases, and disasters, they made it. How does it feel to be the product of so many success stories?',
      'Think about the challenges your recent ancestors faced—your grandparents, great-grandparents, and beyond. What did they survive? What strengths did they pass down to you?',
      'Your baby carries the legacy of all these survivors. What qualities do you hope they inherit from this long line of resilient ancestors?',
      'Evolution shows us that life is incredibly persistent and adaptable. How might this perspective help you face challenges in your own life?'
    ],
    guidance: 'This reflection connects you to the resilience of life itself. Consider looking at old family photos or thinking about family stories as you reflect.'
  },

  // Visualization of Family Tree of Life (Requirement 10.2, 10.3)
  {
    type: 'visualization',
    title: 'Journey Through the Tree of Life',
    description: 'A guided visualization traveling through evolutionary time to meet your ancestors.',
    duration: 15,
    prompts: [
      'Close your eyes and take three deep breaths. Imagine you\'re standing before an enormous tree—the Tree of Life. Its trunk is ancient and strong, its branches stretch to the horizon, and you can see countless leaves representing every species that has ever lived.',
      'Find yourself on one of the newest twigs—this is where humans are. Look around and see your closest relatives: the other great apes, the monkeys, the lemurs. Wave to your primate cousins.',
      'Now begin to travel back along your branch. Watch as the branch joins with others. You pass the point where humans and chimpanzees shared an ancestor, about 6 million years ago. Keep going.',
      'You reach the early mammals—small, furry creatures living in the shadow of dinosaurs. These are your ancestors from 200 million years ago. Feel gratitude for their survival.',
      'Continue back. You reach the first animals to walk on land—creatures like Tiktaalik, part fish, part something new. About 375 million years ago, your ancestors took their first steps out of the water.',
      'Keep traveling. You reach the ancient fish, then the first animals with backbones, then the earliest multicellular creatures. The branches are getting thicker, older.',
      'Finally, you reach the trunk—LUCA, the Last Universal Common Ancestor, a simple cell that lived nearly 4 billion years ago. This tiny creature is the great-grandparent of all life on Earth, including you.',
      'Take a moment to honor this ancient ancestor. Then slowly travel back up through time, through all those branches, back to the present, back to yourself. Open your eyes, carrying the wonder of this journey with you.'
    ],
    guidance: 'This visualization works best in a quiet, comfortable space. Allow plenty of time between prompts to fully imagine each stage of the journey.'
  },
  {
    type: 'visualization',
    title: 'The Web of Connection',
    description: 'Visualize the connections between yourself and other living things.',
    duration: 12,
    prompts: [
      'Close your eyes and imagine yourself sitting in a beautiful natural place—a forest, a meadow, or by the ocean. Take a few deep breaths and feel yourself becoming part of this place.',
      'Now imagine that you can see glowing threads connecting you to every living thing around you. A thread connects you to the tree nearby—you share ancestors from over a billion years ago.',
      'See threads connecting you to the birds singing, to the insects buzzing, to the flowers blooming. Each thread represents your shared ancestry, your common roots in the tree of life.',
      'Imagine the threads extending further—to animals in distant lands, to fish in the deep ocean, to bacteria in the soil. You are connected to all of them.',
      'Feel these connections as warmth, as belonging, as family. You are not separate from nature—you are part of it, woven into the great web of life.',
      'Place your hands on your belly and see threads connecting your baby to all these living things too. Your baby is already part of this web, already connected to the whole living world.',
      'Take a deep breath and slowly open your eyes, carrying this sense of connection with you.'
    ],
    guidance: 'If possible, do this visualization outdoors or near a window with a view of nature. Let yourself feel genuinely connected to the living world.'
  },

  // Thought Experiment about Adaptation (Requirement 10.2)
  {
    type: 'thought-experiment',
    title: 'The Adaptation Game',
    description: 'Explore how natural selection and adaptation work through imaginative scenarios.',
    duration: 10,
    prompts: [
      'Imagine a population of rabbits living in a meadow. Some have brown fur, some have white. If the meadow is covered in snow for most of the year, which rabbits are more likely to survive and have babies? Why? What would happen to the population over many generations?',
      'Now imagine the climate changes and the snow disappears. The meadow becomes green year-round. How would this change which rabbits survive? What would happen to the population over time?',
      'Think about humans. We\'ve spread to every continent on Earth—from frozen tundras to scorching deserts. What adaptations might have helped different human populations survive in different environments?',
      'Consider your own body. What features do you have that might be adaptations from your ancestors? (Think about things like the ability to sweat, to see in color, to walk upright.)',
      'If humans continue to live in cities for thousands of years, what adaptations might future humans develop? What traits might become more or less common?'
    ],
    guidance: 'These thought experiments help you understand how natural selection works. There are no right answers—the goal is to think through the logic of adaptation.'
  },
  {
    type: 'thought-experiment',
    title: 'Echoes of the Past',
    description: 'Explore the vestigial structures and evolutionary echoes in your own body.',
    duration: 8,
    prompts: [
      'You have a tailbone (coccyx) even though you don\'t have a tail. Your ancestors did have tails. How does it feel to carry this reminder of your evolutionary past in your own body?',
      'When you get cold or scared, you get goosebumps. This reflex once made fur stand up to trap warmth or look bigger to predators. You don\'t have fur anymore, but the reflex remains. What other "echoes" of your ancestors might you carry?',
      'Human embryos briefly develop gill-like structures and tails during development, which then disappear. What does this tell us about our evolutionary history?',
      'Wisdom teeth were useful when our ancestors had larger jaws and ate tougher food. Now they often cause problems. What does this tell us about how evolution works—and doesn\'t work?'
    ],
    guidance: 'These questions invite you to see your own body as a living record of evolutionary history. Notice these echoes with curiosity and wonder.'
  },

  // Creative Activity (Requirement 10.4)
  {
    type: 'creative',
    title: 'Your Evolutionary Family Portrait',
    description: 'Creative activities celebrating your connection to the tree of life.',
    duration: 20,
    prompts: [
      'Draw or paint your own version of the Tree of Life. Show the major branches—bacteria, plants, fungi, animals. Find where humans are on the tree. Add yourself and your baby as the newest leaves.',
      'Create a "family portrait" that includes some of your evolutionary relatives: a fish (your ancestor from 500 million years ago), a small mammal (from 200 million years ago), an early primate (from 60 million years ago), and yourself. What family resemblances can you imagine?',
      'Write a short story or poem from the perspective of one of your ancient ancestors—perhaps the first creature to walk on land, or the first mammal, or an early human. What was their life like? What message would they send to their distant descendant (you)?',
      'Create a timeline of your evolutionary history, marking major milestones: first cells, first complex cells, first animals, first fish, first land animals, first mammals, first primates, first humans, you. Decorate it with drawings or images.',
      'Design a "thank you card" to evolution, expressing gratitude for specific features you have—your eyes, your hands, your brain, your ability to love.'
    ],
    guidance: 'These activities are about expression and connection, not artistic perfection. Let your creativity flow as you explore your place in the story of life.'
  },
  {
    type: 'creative',
    title: 'Letters Across Time',
    description: 'Write letters connecting you to your evolutionary past and future.',
    duration: 15,
    prompts: [
      'Write a letter to LUCA, the Last Universal Common Ancestor—the tiny cell that started it all nearly 4 billion years ago. What would you want to tell this ancient ancestor about what their descendants have become?',
      'Write a letter to a human living 10,000 years in the future. What do you hope evolution and human choices will have created? What do you hope they remember about us?',
      'Write a letter to your baby about their evolutionary heritage. What does it mean to be the product of 4 billion years of life? What responsibilities and gifts come with this inheritance?',
      'Write a letter from the perspective of a future descendant, thousands of years from now, thanking you for being a link in the chain of life.'
    ],
    guidance: 'These letters help you feel your place in the long story of life—connected to the deep past and the far future.'
  },

  // Discussion Questions (Requirement 10.4)
  {
    type: 'discussion',
    title: 'Evolution Conversations',
    description: 'Questions to discuss with your partner, family, or friends about evolution and connection.',
    duration: 15,
    prompts: [
      'How does understanding evolution change the way you think about other animals? About plants? About the natural world in general?',
      'Some people find the idea that humans evolved from earlier species troubling, while others find it beautiful and connecting. How do you feel about it? Why?',
      'If all life is connected through common ancestry, what responsibilities might we have toward other species? Toward the environment?',
      'Evolution shows that life is constantly changing and adapting. How might this perspective help us think about change in our own lives?',
      'What do you want your child to understand about evolution and their place in the tree of life?'
    ],
    guidance: 'These questions can spark meaningful conversations about our place in nature and our responsibilities to other living things. Approach them with openness and curiosity.'
  },

  // Breathing Exercise (Supporting activity)
  {
    type: 'breathing',
    title: 'Breathing with the Rhythm of Life',
    description: 'A breathing exercise connecting you to the long chain of life.',
    duration: 6,
    prompts: [
      'Sit comfortably with your hands on your belly. Close your eyes and feel your baby\'s presence.',
      'Breathe in slowly, imagining you\'re breathing in the same air that dinosaurs breathed, that ancient forests created, that has cycled through countless living things.',
      'Breathe out slowly, knowing that your breath will become part of the air that plants will use, that other creatures will breathe, that will continue cycling through life.',
      'With each breath in, feel your connection to all the ancestors who breathed before you—billions of years of breathing creatures.',
      'With each breath out, feel your connection to all the descendants who will breathe after you—the future of life on Earth.',
      'Continue breathing slowly for several minutes, feeling yourself as a link in the great chain of life.',
      'End by placing both hands on your belly and whispering: "You are part of the great story of life, little one. Connected to everything that has ever lived, and everything that ever will."'
    ],
    guidance: 'This breathing exercise connects you to the continuity of life across billions of years. Practice it whenever you want to feel connected to the larger story of life on Earth.'
  }
];

/**
 * Get Evolution exercises by type
 */
export function getEvolutionExercisesByType(type: Exercise['type']): Exercise[] {
  return evolutionExercises.filter(exercise => exercise.type === type);
}

/**
 * Get total duration of all Evolution exercises
 */
export function getEvolutionTotalExerciseDuration(): number {
  return evolutionExercises.reduce((total, exercise) => total + exercise.duration, 0);
}

/**
 * Get a recommended exercise sequence for an Evolution session
 */
export function getEvolutionRecommendedSequence(): Exercise[] {
  return [
    evolutionExercises.find(e => e.title === 'Breathing with the Rhythm of Life')!,
    evolutionExercises.find(e => e.title === 'Journey Through the Tree of Life')!,
    evolutionExercises.find(e => e.title === 'Your Place on the Tree of Life')!,
  ];
}

export default evolutionExercises;
