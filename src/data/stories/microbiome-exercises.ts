/**
 * Microbiome Story Exercises
 * 
 * Topic-specific exercises for "The Hidden Garden: Your Microbiome"
 * These exercises help mothers engage more deeply with the material before sharing it.
 * 
 * Requirements: 10.1, 10.2, 10.3, 10.4
 */

import type { Exercise } from './big-bang-exercises';

export const microbiomeExercises: Exercise[] = [
  // Reflection on Invisible Helpers (Requirement 10.1)
  {
    type: 'reflection',
    title: 'Gratitude for Invisible Helpers',
    description: 'Reflect on the trillions of microorganisms working for your health.',
    duration: 12,
    prompts: [
      'Close your eyes and consider that right now, trillions of tiny creatures are working inside you—breaking down food, producing vitamins, training your immune system. How does it feel to know you\'re never truly alone?',
      'Think about a time when you felt "gut feelings" or "butterflies in your stomach." Knowing that your gut and brain are in constant communication through the microbiome, how might you interpret these sensations differently now?',
      'Your microbiome has been with you since birth, evolving and changing as you\'ve grown. Write about the journey your microbiome has taken with you—the foods it\'s processed, the illnesses it\'s helped fight, the moods it\'s influenced.',
      'Consider the foods you ate today. Which ones might have fed your beneficial bacteria? Which ones might have been less helpful for your inner garden?',
      'Write a thank-you letter to your microbiome. What would you thank these invisible helpers for? What promises might you make to take better care of them?'
    ],
    guidance: 'Find a quiet space where you can focus inward. This reflection is about developing appreciation for the invisible ecosystem that supports your health every moment.'
  },
  {
    type: 'reflection',
    title: 'The Partnership Within',
    description: 'Contemplate the symbiotic relationship between you and your microbiome.',
    duration: 10,
    prompts: [
      'You provide your microbiome with a home and food; they provide you with essential services. What does this partnership teach you about interdependence and mutual benefit?',
      'Your microbiome influences your mood, your cravings, even your thoughts. In what ways might you and your bacteria be co-creating your experience of life?',
      'Scientists say we are more microbe than human by cell count. How does this change your sense of identity? What does it mean to be a "superorganism"?',
      'Think about the microbiome you\'ll pass to your baby. What kind of garden do you want to give them? How might your choices now affect their lifelong health?'
    ],
    guidance: 'These reflections invite you to explore the deep partnership between you and your microbial companions. There are no right answers—simply explore with curiosity and wonder.'
  },

  // Visualization of Internal Garden (Requirement 10.2, 10.3)
  {
    type: 'visualization',
    title: 'Walking Through Your Inner Garden',
    description: 'A guided visualization journey through your microbiome.',
    duration: 15,
    prompts: [
      'Close your eyes and take three deep breaths. With each exhale, feel yourself relaxing more deeply. Imagine you\'re shrinking down, smaller and smaller, until you can slip inside your own body.',
      'You find yourself at the entrance to a magnificent garden—your gut microbiome. The gate is made of the cells that line your intestine, and beyond it stretches a world of incredible diversity.',
      'Step through the gate. The garden is warm and moist, perfect conditions for the tiny gardeners who live here. Look around—you see bacteria of all shapes: round ones, rod-shaped ones, spiral ones, each going about their important work.',
      'Walk along the garden path—your intestinal lining. See bacteria breaking down fiber from your last meal, releasing nutrients that your body can absorb. Watch others producing vitamins that you need but cannot make yourself.',
      'In one corner of the garden, you see bacteria producing serotonin—the happiness chemical. Feel the warm glow of contentment they\'re creating. In another area, immune cells are learning from the bacteria, being trained to protect you.',
      'Notice the diversity of your garden. So many different species, all living together in harmony! Some are ancient residents, others are newcomers from your recent meals. Together, they form a balanced ecosystem.',
      'As you walk deeper, you see the communication happening—chemical signals passing between bacteria, messages being sent to your brain through the vagus nerve. Your garden is alive with conversation.',
      'Before you leave, find a quiet spot and sit for a moment. Send gratitude to all the tiny gardeners. Thank them for their tireless work. Promise to feed them well with diverse, fiber-rich foods.',
      'Slowly begin to grow larger, returning to your normal size. Carry with you the wonder of what you\'ve witnessed—the hidden garden that works for you every moment of every day.'
    ],
    guidance: 'This visualization works best in a comfortable position with eyes closed. Allow 20-30 seconds between each prompt. You may want to record yourself reading the prompts slowly.'
  },
  {
    type: 'visualization',
    title: 'Your Baby\'s Garden Beginning',
    description: 'Visualize the microbiome your baby will receive.',
    duration: 12,
    prompts: [
      'Close your eyes and place your hands on your belly. Feel the warmth and the connection to your baby.',
      'Right now, your baby is mostly protected from bacteria in their sterile womb environment. But soon, they will receive their first gift of microbes—from you.',
      'Imagine the moment of birth. As your baby enters the world, they\'ll be bathed in bacteria—beneficial microbes that will begin colonizing their gut, their skin, their mouth.',
      'See these first bacteria as seeds being planted in fresh soil. They\'re the foundation of your baby\'s lifelong garden, the beginning of a partnership that will last their entire life.',
      'Visualize your baby\'s first feeding. Whether breast milk or formula, they\'re receiving nourishment not just for themselves, but for their growing microbiome. Special sugars in breast milk feed beneficial bacteria like Bifidobacterium.',
      'Watch as your baby\'s garden grows over their first months and years. New species arrive with each new food, each new experience, each cuddle and kiss. By age three, their garden will look much like an adult\'s.',
      'Send love and intention to your baby\'s future microbiome. Imagine it diverse and balanced, full of helpful bacteria that will support their health, their immunity, their happiness.',
      'Open your eyes slowly, keeping the connection to your baby and the garden you\'re preparing for them.'
    ],
    guidance: 'This visualization helps you connect with your baby\'s future health. Focus on feelings of love and intention rather than worry about getting everything perfect.'
  },

  // Breathing Exercise (Requirement 10.3)
  {
    type: 'breathing',
    title: 'Garden Breathing',
    description: 'A breathing exercise that connects you to your microbiome.',
    duration: 10,
    prompts: [
      'Sit comfortably with your hands on your belly. Close your eyes and feel your baby\'s presence.',
      'Breathe in slowly for 4 counts, imagining you\'re sending fresh oxygen to your inner garden. Your bacteria need oxygen too—you\'re nourishing them with each breath.',
      'Hold for 2 counts, feeling the stillness. In this pause, imagine your gut bacteria working peacefully, breaking down food, producing vitamins.',
      'Breathe out slowly for 6 counts, releasing carbon dioxide and any stress. Stress can harm your microbiome, so with each exhale, you\'re creating a calmer environment for your garden.',
      'Pause for 2 counts, feeling gratitude for your invisible helpers.',
      'Repeat this cycle, and with each breath, imagine your gut-brain axis carrying happy signals back and forth. Your calm breathing is creating calm bacteria, which are creating calm feelings.',
      'Continue for 5 more cycles, feeling the harmony between your breath, your mind, and your microbiome.',
      'On your final exhale, whisper: "Thank you, tiny gardeners, for all you do. I breathe for both of us."'
    ],
    guidance: 'This breathing exercise helps you feel connected to your microbiome. The gut-brain axis is real—your calm breathing genuinely supports your microbial health.'
  },
  {
    type: 'breathing',
    title: 'Gut-Brain Harmony Breath',
    description: 'A breathing exercise focused on the gut-brain connection.',
    duration: 8,
    prompts: [
      'Place one hand on your belly and one on your heart. Close your eyes.',
      'Feel your belly rise and fall with each breath. Your gut—home to trillions of bacteria—is right beneath your hand.',
      'Now synchronize your breath with intention: breathe in for 4 counts, imagining calm flowing from your brain down to your gut.',
      'Hold for 2 counts, feeling the connection between your two "brains"—the one in your head and the one in your gut.',
      'Breathe out for 6 counts, imagining happy signals flowing from your gut up to your brain. Your bacteria are producing serotonin, sending contentment upward.',
      'Continue this two-way breathing for 2 minutes, feeling the conversation between your gut and brain.',
      'Your baby is listening to this conversation too. The calm you create flows to them through the placenta.',
      'End by placing both hands on your belly and saying: "My gut and brain are in harmony. My garden is at peace."'
    ],
    guidance: 'This exercise deepens your awareness of the gut-brain axis. The connection is real—your emotional state affects your microbiome, and your microbiome affects your emotions.'
  },

  // Discussion about Health and Bacteria (Requirement 10.4)
  {
    type: 'discussion',
    title: 'Microbiome Conversations',
    description: 'Questions to discuss with your partner, family, or friends about the microbiome.',
    duration: 15,
    prompts: [
      'Before learning about the microbiome, what did you think about bacteria? How has your understanding changed?',
      'How might knowing about the gut-brain connection change the way you think about mental health and emotional wellbeing?',
      'What foods do you eat that might be good for your microbiome? What changes might you consider making to support your inner garden?',
      'How do you feel about the idea that you\'re passing your microbiome to your baby? What kind of garden do you want to give them?',
      'Scientists are discovering that the microbiome affects almost every aspect of health. What implications might this have for medicine in the future?',
      'How might understanding the microbiome change the way we think about cleanliness, antibiotics, and "germs" in general?'
    ],
    guidance: 'These questions can spark meaningful conversations about health, diet, and our relationship with the microbial world. Share your thoughts with loved ones.'
  },

  // Creative Activities (Requirement 10.4)
  {
    type: 'creative',
    title: 'Draw Your Inner Garden',
    description: 'Creative activities to visualize and express your microbiome.',
    duration: 20,
    prompts: [
      'Draw or paint your microbiome as a garden. What kinds of "plants" (bacteria) would you include? What colors would represent different species? Is your garden diverse and flourishing, or does it need some tending?',
      'Create a "microbiome menu"—a list of foods that would make your gut bacteria happy. Decorate it like a restaurant menu, with descriptions of how each food benefits your inner garden.',
      'Design a poster that explains the gut-brain connection to a child. Use simple images and words to show how the gut and brain "talk" to each other.',
      'Write a short story from the perspective of a bacterium living in your gut. What is their daily life like? What do they do for you? What do they need from you?',
      'Create a "before and after" drawing showing a microbiome that\'s out of balance (dysbiosis) and one that\'s healthy and diverse. What differences would you show?'
    ],
    guidance: 'These activities are about expression and connection, not artistic perfection. Let your creativity flow as you explore the garden metaphor.'
  },
  {
    type: 'creative',
    title: 'The Microbiome Story',
    description: 'Create stories and poems about your inner ecosystem.',
    duration: 15,
    prompts: [
      'Write a short poem about your microbiome. Include imagery of gardens, helpers, diversity, and partnership.',
      'Create a children\'s story about a bacterium who helps a child feel happy. How does the bacterium do its job? What adventures might it have?',
      'Write a lullaby for your baby about the garden they\'ll receive. What would you want them to know about their future microbial partners?',
      'Compose a "day in the life" story following a piece of fiber through your digestive system, meeting all the bacteria who help break it down.'
    ],
    guidance: 'Stories and poems help us internalize and remember information. Don\'t worry about creating something perfect—the process of creation is what matters.'
  },

  // Thought Experiments (Requirement 10.2)
  {
    type: 'thought-experiment',
    title: 'The Invisible Ecosystem',
    description: 'Explore the implications of your inner microbial world.',
    duration: 10,
    prompts: [
      'If you could see your microbiome, what do you think it would look like? Would it be more like a rainforest, a coral reef, a meadow, or something else entirely?',
      'Your microbiome influences your cravings. When you crave certain foods, might it be your bacteria "asking" for what they need? How does this change your relationship with hunger and cravings?',
      'Antibiotics kill bacteria—both harmful and helpful. If you had to take antibiotics, how might you help your microbiome recover afterward?',
      'Scientists can now transplant microbiomes from one person to another. If you could receive anyone\'s microbiome, whose would you choose? Why?'
    ],
    guidance: 'These questions invite wonder about the complexity of your inner ecosystem. There are no right answers—simply explore with curiosity.'
  },
  {
    type: 'thought-experiment',
    title: 'The Superorganism',
    description: 'Contemplate what it means to be a human-microbe partnership.',
    duration: 8,
    prompts: [
      'You have more bacterial cells than human cells in your body. In what sense are you a "superorganism"—a partnership between human and microbe?',
      'Your microbiome is unique to you, like a fingerprint. No one else has exactly the same combination of species. What does this mean for your identity?',
      'Babies born by cesarean section receive different initial bacteria than those born vaginally. How might this affect their health? What could be done to help?',
      'Your microbiome changes throughout your life—with diet, stress, illness, and age. In what sense is your microbiome a record of your life experiences?'
    ],
    guidance: 'These questions touch on deep issues of identity and partnership. Sit with the wonder rather than seeking definitive answers.'
  }
];

/**
 * Get Microbiome exercises by type
 */
export function getMicrobiomeExercisesByType(type: Exercise['type']): Exercise[] {
  return microbiomeExercises.filter(exercise => exercise.type === type);
}

/**
 * Get total duration of all Microbiome exercises
 */
export function getMicrobiomeTotalExerciseDuration(): number {
  return microbiomeExercises.reduce((total, exercise) => total + exercise.duration, 0);
}

/**
 * Get a recommended exercise sequence for a Microbiome session
 */
export function getMicrobiomeRecommendedSequence(): Exercise[] {
  return [
    microbiomeExercises.find(e => e.title === 'Garden Breathing')!,
    microbiomeExercises.find(e => e.title === 'Walking Through Your Inner Garden')!,
    microbiomeExercises.find(e => e.title === 'Gratitude for Invisible Helpers')!,
  ];
}

export default microbiomeExercises;
